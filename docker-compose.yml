version: '3.8' 
services: 
  db: 
    image: postgres:13 
    environment: 
      POSTGRES_USER: hotel 
      POSTGRES_PASSWORD: hotel 
      POSTGRES_DB: hoteldb 
    ports: 
      - "5432:5432" 
    volumes: 
      - db_data:/var/lib/postgresql/data 
 
  app: 
    build: . 
    depends_on: 
      - db 
    environment: 
      DATABASE_URL: postgresql://hotel:hotel@db:5432/hoteldb 
    ports: 
      - "8000:8080" 
 
volumes: 
  db_data: